/* Heap Visualizer Styles */
:root{
  --bg: #0f172a;
  --panel: #111827;
  --muted: #94a3b8;
  --text: #e5e7eb;
  --accent: #22d3ee;
  --accent-2: #a78bfa;
  --danger: #ef4444;
  --ok: #34d399;
  --warn: #f59e0b;
  --node: #1f2937;
  --edge: #334155;
}
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 600px at 50% -20%, #111827 20%, #0b1022 60%, #070b17 100%);
  color: var(--text);
}
.app-header{
  padding: 24px 16px 12px;
  text-align:center;
}
.app-header h1{ margin:0; font-size: 28px; letter-spacing: .4px; }
.app-header .subtitle{ color: var(--muted); margin-top:6px; font-size:14px; }

.container{ max-width: 1100px; margin: 0 auto; padding: 8px 16px 32px; }

.controls{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0));
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  padding: 12px;
}
.control-row{
  display:flex; align-items:center; gap:16px; flex-wrap:wrap; justify-content:space-between;
}
.playback{ display:flex; gap:8px; }
.playback button{ padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.1); background:#0b1226; color:var(--text); cursor:pointer }
.playback button:hover{ background:#0e1630 }
.playback .danger{ background:#1a0e11; border-color:#3a1d22; color:#fca5a5 }
.playback .danger:hover{ background:#2a1418 }

.toggle{ display:flex; align-items:center; gap:10px; padding:6px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.08); background:#0b1226; }
.toggle input{ appearance: none; width: 42px; height: 24px; border-radius: 999px; background: #1f2937; position: relative; outline:none; cursor:pointer; }
.toggle input::after{ content:""; position:absolute; top:3px; left:3px; width:18px; height:18px; background:#374151; border-radius:50%; transition: transform .2s ease, background .2s ease; }
.toggle input:checked{ background: #0e7490; }
.toggle input:checked::after{ transform: translateX(18px); background:#22d3ee; }
.toggle .toggle-label::before{ content: attr(data-min); color: var(--muted); margin-left:4px; font-size: 14px; }
.toggle input:checked + .toggle-label::before{ content: attr(data-max); color: var(--ok); }

.speed{ display:flex; align-items:center; gap:8px; color:var(--muted); }
.speed input{ width: 160px; accent-color: var(--accent); }
#speedLabel{ color: var(--text); font-variant-numeric: tabular-nums; }

.control-grid{
  margin-top: 12px;
  display:grid; gap:12px; grid-template-columns: repeat(12, 1fr);
}
.card{ grid-column: span 3; background: #0b1226; border:1px solid rgba(255,255,255,0.06); border-radius:12px; padding:10px; }
.card.wide{ grid-column: span 12; }
.card h3{ margin:2px 0 10px; font-size:16px; color:#cbd5e1; }
.row{ display:flex; gap:8px; align-items:center; }
.stack{ flex-direction: column; align-items: stretch; }
.row input[type="number"], .row input[type="text"]{ flex:1; min-width:120px; padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.08); background:#050a1b; color:var(--text); }
.row button{ padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.08); background:#0e1630; color:var(--text); cursor:pointer; }
.row button:hover{ background:#131d41 }
.row button:active{ transform: translateY(1px); }
.row .muted{ color: var(--muted); }

.visualization{ margin-top:16px; background: #0b1226; border:1px solid rgba(255,255,255,0.06); border-radius: 12px; padding:8px; }
#heapSvg{ width:100%; height: 420px; display:block; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0)); border-radius: 8px; }

svg text{ -webkit-user-select:none; user-select:none; }

.edges line{ stroke: var(--edge); stroke-width: 2; opacity:0.85; }
.nodes g.node{ transition: transform .6s cubic-bezier(.2,.8,.2,1); }
.nodes circle{ fill: var(--node); stroke: #263043; stroke-width: 2; }
.nodes g.node.root circle{ stroke: var(--accent); }
.nodes g.node.highlight circle{ stroke: var(--warn); filter: drop-shadow(0 0 6px rgba(245,158,11,.45)); }
.nodes g.node.swap circle{ stroke: var(--accent-2); filter: drop-shadow(0 0 6px rgba(167,139,250,.4)); }
.nodes text{ fill: #e2e8f0; font-weight: 600; font-size: 14px; }

.array-rep{ margin-top: 14px; }
.array-bar{ display:flex; gap:6px; flex-wrap:wrap; }
.array-item{ display:flex; align-items:center; gap:6px; background:#0b1226; border:1px solid rgba(255,255,255,0.06); border-radius:8px; padding:6px 10px; min-width: 52px; justify-content:center; position:relative; }
.array-item .idx{ position:absolute; top:-9px; left:6px; font-size:11px; color:#94a3b8; background:#0b1226; padding:1px 6px; border-radius:6px; border:1px solid rgba(255,255,255,0.06); }
.array-item.highlight{ outline: 2px solid var(--warn); }

.log{ margin-top: 14px; }
.log-panel{ background:#0b1226; border:1px solid rgba(255,255,255,0.06); border-radius:8px; padding:8px; min-height: 80px; max-height: 180px; overflow:auto; }
.log-entry{ color:#cbd5e1; font-size: 14px; margin:4px 0; }
.log-entry .k{ color:#93c5fd; }
.log-entry .i{ color:#fca5a5; }
.log-entry .ok{ color: var(--ok); }
.log-entry .warn{ color: var(--warn); }

.footer{ margin: 18px 0 40px; text-align:center; color:var(--muted); font-size: 13px; }

@media (max-width: 900px){
  .card{ grid-column: span 6; }
  #heapSvg{ height: 440px; }
}
@media (max-width: 640px){
  .card{ grid-column: span 12; }
  .control-row{ justify-content:flex-start; }
}
